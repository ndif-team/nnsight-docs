
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="dark">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Status &#8212; nnsight</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "dark";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "dark";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=187304be"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'status';</script>
    <script src="../_static/js/custom.js?v=1e4be224"></script>
    <script src="../_static/js/code.js?v=34343d0c"></script>
    <link rel="icon" href="../_static/icon.ico"/>
    <link rel="author" title="About these documents" href="../about/" />
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
<link href="../_static/css/custom.css?v=1749793536" rel="stylesheet" type="text/css" />
<link href="../_static/css/home.css?v=1749793536" rel="stylesheet" type="text/css" />

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="dark">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search/"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../">
  
  
  
  
  
    
    
    
    <img src="../_static/nnsight_logo.svg" class="logo__image only-dark" alt="nnsight - Home"/>
    <img src="../_static/nnsight_logo.svg" class="logo__image only-light pst-js-only" alt="nnsight - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../start/">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../documentation/">
    Documentation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../features/">
    Features
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../tutorials/">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../about/">
    About
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item"><script>
    fetch("https://ndif.dev/ping")
        .then((response) => {
            if (response.status == 200) {
                Array.from(document.getElementsByClassName("ndif")).forEach((ndifElement) => {
                    Array.from(ndifElement.getElementsByTagName('span')).forEach((spanElement) => {
                        spanElement.style.setProperty('color', '#66800b', 'important');
                    });
                });
            }
            else {
                Array.from(document.getElementsByClassName("ndif")).forEach((ndifElement) => {
                    Array.from(ndifElement.getElementsByTagName('span')).forEach((spanElement) => {
                        spanElement.style.setProperty('color', '#af3029', 'important');
                    });
                });
                var statusIcon = document.querySelector('.ndif .fa-circle-check');
                if (statusIcon) {
                    // not here
                    statusIcon.classList.replace('fa-circle-check', 'fa-circle-xmark'); 
                }
            }
        })
        .catch((response) => {
            Array.from(document.getElementsByClassName("ndif")).forEach((ndifElement) => {
                Array.from(ndifElement.getElementsByTagName('span')).forEach((spanElement) => {
                    spanElement.style.setProperty('color', '#af3029', 'important');
                });
            });
            var statusIcon = document.querySelector('.ndif .fa-circle-check');
            if (statusIcon) {
                statusIcon.classList.replace('fa-circle-check', 'fa-circle-xmark');
            }
        })
</script></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="/status" title="Status: Unknown" class="ndif" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-circle-check fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Status: Unknown</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ndif-team/nnsight" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discuss.ndif.us/" title="Forum" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Forum</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://forms.gle/1Y6myaXYzSh3oHf56" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../start/">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../documentation/">
    Documentation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../features/">
    Features
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../tutorials/">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../about/">
    About
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><script>
    fetch("https://ndif.dev/ping")
        .then((response) => {
            if (response.status == 200) {
                Array.from(document.getElementsByClassName("ndif")).forEach((ndifElement) => {
                    Array.from(ndifElement.getElementsByTagName('span')).forEach((spanElement) => {
                        spanElement.style.setProperty('color', '#66800b', 'important');
                    });
                });
            }
            else {
                Array.from(document.getElementsByClassName("ndif")).forEach((ndifElement) => {
                    Array.from(ndifElement.getElementsByTagName('span')).forEach((spanElement) => {
                        spanElement.style.setProperty('color', '#af3029', 'important');
                    });
                });
                var statusIcon = document.querySelector('.ndif .fa-circle-check');
                if (statusIcon) {
                    // not here
                    statusIcon.classList.replace('fa-circle-check', 'fa-circle-xmark'); 
                }
            }
        })
        .catch((response) => {
            Array.from(document.getElementsByClassName("ndif")).forEach((ndifElement) => {
                Array.from(ndifElement.getElementsByTagName('span')).forEach((spanElement) => {
                    spanElement.style.setProperty('color', '#af3029', 'important');
                });
            });
            var statusIcon = document.querySelector('.ndif .fa-circle-check');
            if (statusIcon) {
                statusIcon.classList.replace('fa-circle-check', 'fa-circle-xmark');
            }
        })
</script></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          
          <a href="/status" title="Status: Unknown" class="ndif" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-circle-check fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Status: Unknown</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ndif-team/nnsight" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discuss.ndif.us/" title="Forum" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Forum</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://forms.gle/1Y6myaXYzSh3oHf56" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Status</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <style>
    .bd-article-container {
        overflow-x: unset !important;
    }

    .accordion-header {
        margin: 0 !important;
    }

    /* Custom accordion styles */
    .custom-accordion-header {
        background-color: var(--pst-color-surface);
        /* Default state background color */
        color: var(--pst-color-text-base);
        /* Text color */
        border-bottom: var(--pst-color-border);
        /* Border color */
    }

    .custom-accordion-header {
        background-color: var(--pst-color-surface);
        /* Default state background color */
        color: var(--pst-color-text-base);
        /* Text color */
        border-bottom: var(--pst-color-border);
        /* Border color */
    }

    .accordion-item {
        border: 1px solid var(--pst-color-border);
        margin-bottom: 0.5rem;
        border-radius: 4px;
    }

    .accordion {
        --bs-accordion-btn-icon: none;
        --bs-accordion-btn-active-icon: none;
    }

    .custom-accordion-header.collapsed {
        background-color: var(--pst-color-surface);
        /* Collapsed state background color */
        color: var(--pst-color-text-base);
        /* Text color */
    }

    .custom-accordion-header:not(.collapsed) {
        background-color: var(--pst-color-surface);
        /* Active/Expanded state background color */
        color: var(--pst-color-text-base);
        /* Text color */
    }

    .custom-accordion-body {
        background-color: var(--pst-color-surface);
        /* Body background color */
        border-color: var(--pst-color-border);
        /* Border color */
        color: var(--pst-color-text-base);
        /* Text color */
        padding: 1rem;
    }

    .sd-card {
        border-radius: 0 !important;
    }

    /* Add styles for status text */
    .status-container p.sd-card-text {
        font-weight: 600;
        margin: 0;
        padding: 0.5rem 1rem;
    }

    .badge {
        font-family: "Lucida Console", monospace;
        color: white;
        padding: 2px 8px;
        border-radius: 4px;
        margin-right: 8px;
        font-size: 12px;
    }

    .schedule-info {
        font-family: "Lucida Console", monospace;
        background-color: var(--pst-color-surface) !important;
        color: var(--pst-color-text-base) !important;
        padding: 2px 8px !important;
        border-radius: 4px !important;
        margin-left: 8px !important;
        border: 1px solid var(--pst-color-border) !important;
        font-size: 12px !important;
        display: inline-flex !important;
        align-items: center !important;
        height: 20px !important;
        white-space: normal !important;
        word-break: break-word !important;
    }

    @media (max-width: 768px) {
        .accordion-button {
            flex-wrap: wrap !important;
            gap: 8px !important;
        }

        .schedule-info {
            margin-left: 0 !important;
            margin-top: 4px !important;
        }

        .badge[data-tooltip]:hover::after {
            left: 0;
            transform: none;
            max-width: 200px;
        }

        .badge[data-tooltip]:hover::before {
            left: 20px;
            transform: none;
        }
    }

    /* Custom tooltip styles */
    .badge[data-tooltip] {
        position: relative;
        cursor: help;
    }

    .badge[data-tooltip]:hover::after {
        content: attr(data-tooltip);
        position: absolute;
        bottom: calc(100% + 8px);
        left: 50%;
        transform: translateX(-50%);
        padding: 8px 12px;
        background-color: var(--pst-color-surface);
        color: var(--pst-color-text-base);
        border: 1px solid var(--pst-color-border);
        border-radius: 4px;
        font-size: 12px;
        white-space: normal;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        font-family: var(--pst-font-family-base);
        font-weight: normal;
        width: max-content;
        max-width: 300px;
        text-align: center;
        pointer-events: none;
        z-index: 9999;
    }

    .badge[data-tooltip]:hover::before {
        content: '';
        position: absolute;
        bottom: calc(100% + 4px);
        left: 50%;
        transform: translateX(-50%);
        border-width: 4px;
        border-style: solid;
        border-color: var(--pst-color-border) transparent transparent transparent;
        pointer-events: none;
        z-index: 9999;
    }

    /* Hide native tooltip */
    .badge[title] {
        text-decoration: none;
    }

    #loader {
        width: 120px;
        height: 120px;
        display: inline-block;
        position: relative;
    }
    #loader::after,
    #loader::before {
        content: '';
        box-sizing: border-box;
        width:120px;
        height: 120px;
        border-radius: 50%;
        background: #FFF;
        position: absolute;
        left: 0;
        top: 0;
        animation: animloader 2s linear infinite;
    }
    #loader::after {
        animation-delay: 1s;
    }

    @keyframes animloader {
        0% {
            transform: scale(0);
            opacity: 1;
        }
        100% {
            transform: scale(1);
            opacity: 0;
        }
    }

</style>


<script>

    let ndif_url = "http://localhost:5001"
    let error_color = "#7e0000"  // Red for FAILED/UNHEALTHY
    let success_color = "#2bab38"  // Green for RUNNING
    let warning_color = "#fad12d"  // Yellow for other states

    let dedicated_color = "#31945d"
    let hot_color = "#2bab38"
    let warm_color = "#319480"
    let scheduled_color = "#5baec9"
    let cold_color = "#13159e"


    function getDeploymentLevelColor(deployment_level) {
        switch(deployment_level) {
            case "DEDICATED":
                return dedicated_color;
            case "HOT":
                return hot_color;
            case "WARM":
                return warm_color;
            case "SCHEDULED":
                return scheduled_color;
            case "COLD":
                return cold_color;
        }
    }

    function getDeploymentLevelToolTip(deployment_level) {
        switch(deployment_level) {
            case "DEDICATED":
                return "This model is on GPU and ready to serve. It is guarenteed to be running until the scheduled end time.";
            case "HOT":
                return "This model is on GPU and ready to serve. It may be evicted depending on model traffic after a minimum amount of time.";
            case "WARM":
                return "This model is cached on CPU and will be quickly loaded into GPU when requested assuming it can be accomodated.";
            case "SCHEDULED":
                return "This model is scheduled to be a dedicated deployment for a duration specified by the deployment schedule.";
            case "COLD":
                return "This model is downloaded and ready to be deployed when requested assuming it can be accomodated.";
        }
    }

    let not_started_color = "#bd5c1c"
    let deploying_color = "#bd5c1c"
    let deploy_failed_color = "#a8323c"
    let running_color = "#2bab38"
    let unhealthy_color = "#a8323c"

    function getApplicationStateColor(application_state) {
        switch(application_state) {
            case "NOT_STARTED":
                return not_started_color;
            case "DEPLOYING":
                return deploying_color;
            case "DEPLOY_FAILED":
                return deploy_failed_color;
            case "RUNNING":
                return running_color;
            case "UNHEALTHY":
                return unhealthy_color;
        }
    }


    function formatTimeRemaining(endTime) {
        const now = new Date();
        const end = new Date(endTime);

        const diff = end - now;

        if (diff < 0) return "Ended";

        const hours = Math.floor(diff / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        return `${hours}h ${minutes}m remaining`;
    }

    function formatSchedule(schedule) {
        if (!schedule) return "No schedule";

        const now = new Date();
        const start = new Date(schedule.start_time);
        const end = new Date(schedule.end_time);

        if (now > end) return "Ended";
        if (now >= start && now <= end) {
            return formatTimeRemaining(schedule.end_time);
        }
        if (now < start) {
            const startStr = start.toLocaleString();
            const duration = Math.round((end - start) / (1000 * 60 * 60));
            return `Starts ${startStr} (${duration}h duration)`;
        }
    }

    function autoFormatJsonString(jsonString) {
        // Parse the JSON string into an object
        let jsonObject = JSON.parse(jsonString);

        // Convert the object back into a string with indentation
        let prettyPrintedJson = JSON.stringify(jsonObject, null, 2);

        // Replace keys in the JSON string with styled spans
        prettyPrintedJson = prettyPrintedJson.replace(/"([^"]+)":/g, '<span style="background-color: lightgrey;">"$1":</span>');

        // Set the formatted JSON string as the innerHTML of the element
        document.getElementById('jsonContainer').innerHTML = `<pre>${prettyPrintedJson}</pre>`;
    };

    function update(message, color) {
        document.querySelectorAll('div.sd-card-body.status-container').forEach(el => {
            el.style.backgroundColor = color;
            el.querySelectorAll('p.sd-card-text').forEach(el => {
                el.textContent = message;
            });
        });
    }

    function loading(flag) {
        document.getElementById("loader").style.display = flag ? "block" : "none";
    }

    function updateScheduleDisplay() {
        document.querySelectorAll('.schedule-info').forEach(el => {
            const schedule = JSON.parse(el.dataset.schedule);
            el.textContent = formatSchedule(schedule);
        });
    }

    function startScheduleTimer() {
        // Update immediately
        updateScheduleDisplay();
        // Then update every minute
        setInterval(updateScheduleDisplay, 60000);
    }

    document.addEventListener('DOMContentLoaded', function() {
        loading(true);

        update("Fetching NDIF status...", warning_color);

        fetch(ndif_url + "/ping")
            .then((response) => {
                if (response.status == 200) {
                    update("NDIF is up. Fetching model status...", warning_color);

                    console.log('Ping success');
                    fetch(ndif_url + "/status")
                        .then((statsResponse) => {
                            loading(false);

                            if (statsResponse.status == 200) {
                                statsResponse.json().then((response) => {
                                    console.log('Parsed response:', response);

                                    let infoString = '';
                                    let index = 0;

                                    if (!response.deployments || Object.keys(response.deployments).length === 0) {
                                        update("NDIF is up but there are no models deployed. Seems unintentional.", error_color);
                                        return;
                                    }

                                    update("NDIF is operational.", success_color);

                                    // Add calendar link if available
                                    const calendarLink = response.calendar_id ?
                                        `<a href="https://calendar.google.com/calendar/embed?src=${encodeURIComponent(response.calendar_id)}" target="_blank" style="display: block; margin-bottom: 1rem; text-decoration: none;">View Dedicated Deployment Calendar ↗</a>` : '';
                                    // Sort deployments by deployment_level in the desired order
                                    const deploymentOrder = ["DEDICATED", "HOT", "WARM", "SCHEDULED", "COLD"];
                                    Object.entries(response.deployments)
                                        .sort(([, a], [, b]) => {
                                            const aLevel = deploymentOrder.indexOf(a.deployment_level);
                                            const bLevel = deploymentOrder.indexOf(b.deployment_level);
                                            // If not found, put at the end
                                            return (aLevel === -1 ? deploymentOrder.length : aLevel) - (bLevel === -1 ? deploymentOrder.length : bLevel);
                                        })
                                        .forEach(([key, value]) => {
                                        var headingId = 'heading' + (index + 1);
                                        var collapseId = 'collapse' + (index + 1);

                                        const configJsonString = value.config;
                                        const deployment_level = value.deployment_level;
                                        const application_state = value.application_state;
                                        const schedule = value.schedule;

                                        let prettyPrintedJson = '';
                                        if (configJsonString) {
                                            let jsonObject = JSON.parse(configJsonString);
                                            prettyPrintedJson = JSON.stringify(jsonObject, null, 4);
                                            prettyPrintedJson = prettyPrintedJson.replace(/"([^"]+)":/g, '"<b>$1</b>":');

                                        }
                                        let huggingFaceLink = `<a href="http://huggingface.co/${value.repo_id}" target="_blank">HuggingFace Model Repository ↗</a>`;

                                        const deploymentLevelColor = getDeploymentLevelColor(deployment_level);
                                        const deploymentLevelBadge = `<span style="background-color: ${deploymentLevelColor};" class="badge" data-tooltip="${getDeploymentLevelToolTip(deployment_level)}">${deployment_level}</span>`;

                                        // Only show application state if it exists
                                        let applicationStateBadge = '';
                                        if (application_state !== undefined && application_state !== null) {
                                            const applicationStateColor = getApplicationStateColor(application_state);
                                            applicationStateBadge = `<span style="background-color: ${applicationStateColor};" class="badge">${application_state}</span>`;
                                        }

                                        // Create schedule info with data attribute for updates
                                        const scheduleInfo = schedule ?
                                            `<span class="schedule-info" data-schedule='${JSON.stringify(schedule)}'>${formatSchedule(schedule)}</span>` : '';

                                        infoString += `<div class="accordion-item">
                                                <h2 class="accordion-header" id="${headingId}">
                                                    <button class="accordion-button custom-accordion-header collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#${collapseId}" aria-expanded="false" aria-controls="${collapseId}" style="display: flex; justify-content: space-between; align-items: center; width: 100%; text-align: left;">
                                                        <div style="display: flex; align-items: center; flex: 1; flex-wrap: wrap; gap: 8px;">
                                                            ${deploymentLevelBadge}${applicationStateBadge}<span style="font-weight: 600;">${value.repo_id}</span>
                                                        </div>
                                                        <div style="margin-left: auto; display: flex; align-items: center;">
                                                            ${scheduleInfo}
                                                        </div>
                                                    </button>
                                                </h2>
                                                <div id="${collapseId}" class="accordion-collapse collapse" aria-labelledby="${headingId}" data-bs-parent="#accordionExample">
                                                    <div class="accordion-body custom-accordion-body">
                                                        ${huggingFaceLink}
                                                        ${prettyPrintedJson ? `<pre>${prettyPrintedJson}</pre>` : ''}
                                                    </div>
                                                </div>
                                            </div>`;

                                        index++;
                                    });

                                    var elm = document.getElementById("accordionHook");
                                    elm.innerHTML = calendarLink + infoString;

                                    // Start the schedule update timer
                                    startScheduleTimer();

                                    console.log('Stats success');
                                }).catch((jsonError) => {
                                    console.log('JSON parsing error:', jsonError);
                                });
                            } else {
                                update("Unable to get NDIF status.", error_color);
                            }
                        })
                        .catch((statsError) => {
                            update("Unable to get NDIF status.", error_color);
                            loading(false);

                            console.log('Stats error', statsError);
                        });
                } else {
                    update("NDIF is unavailable", error_color);
                    loading(false);
                    console.log('Ping error');
                }
            })
            .catch((pingError) => {
                update("NDIF is unavailable", error_color);
                loading(false);
                console.error('Ping fetch failed:', pingError);
            });
    }, false);
</script><section id="status">
<h1 class="sd-d-none">Status<a class="headerlink" href="#status" title="Link to this heading">#</a></h1>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-none docutils">
<div class="sd-card-body status-container docutils">
<p class="sd-card-text">Getting Status</p>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-none docutils">
<div class="sd-card-body docutils">
<p class="sd-card-text">NNsight can be used to run local models without requiring a key. However, running experiments on NDIF remote models requires a free API key. To obtain a key, register for an <a class="reference external" href="https://login.ndif.us">NDIF account</a> which allows you to manage and generate keys.
For information on API key configuration and remote system limits, please refer to our <a class="reference external" href="https://nnsight.net/notebooks/features/remote_execution/">Remote Execution Tutorial</a>.</p>
<p class="sd-card-text">Below, models are shown in various states of deployment, and their deployment level is shown in the leftmost badge (hover for more information on their meaning). Models not displayed here are in the lowest state of deployment, which means they are not even downloaded.
Upon request they may be able to be downloaded assuming there is space to accommodate and they don’t require non-Hugging Face code and are not gated.
If there is a model that you believe should be accessible, please message the team on Discord or email.</p>
<p class="sd-card-text">We currently have engineers on call Monday to Friday from 9 AM to 5 PM ET to assist with any connectivity issues for our remote models. Please reach out to us on <a class="reference external" href="https://discord.com/invite/6uFJmCSwW7">Discord</a> or via email at <a class="reference external" href="mailto:info&#37;&#52;&#48;ndif&#46;us">info<span>&#64;</span>ndif<span>&#46;</span>us</a>.</p>
</div>
</div>
<div style="
    width:100%;
    display: flex;
    justify-content: center;
    ">
    <div id="loader"></div>
</div>



<div class="accordion accordion-flush" id="accordionHook">
</div></section>


                </article>
              
              
              
              
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024 NDIF.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>